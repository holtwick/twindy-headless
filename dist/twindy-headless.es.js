var e=Object.assign;import{defineComponent as t,openBlock as n,createBlock as o,resolveComponent as r,mergeProps as i,createCommentVNode as a,createTextVNode as l,toDisplayString as s,renderSlot as d,withCtx as c,onMounted as u,onBeforeUnmount as f,ref as p,resolveDirective as m,Transition as v,withDirectives as h,createVNode as y,Fragment as g,renderList as w,withKeys as b,getCurrentInstance as x,onUnmounted as O,watch as k,unref as j,nextTick as E,Teleport as S,vShow as A,reactive as C,toRefs as T,withModifiers as L,vModelText as D,computed as M,TransitionGroup as B,createApp as V,onUpdated as $}from"vue";var P=t({name:"tw-symbol",props:{name:{type:String,default:0,required:!0}}});P.render=function(e,t,r,i,a,l){return n(),o("i",{class:"f7","data-f7-icon":e.name,"aria-hidden":"true"},null,8,["data-f7-icon"])};const I=t({components:{TwSymbol:P},props:{title:{type:String,default:""},theme:{default:"primary"},symbol:{type:String},symbolLeft:{type:String},symbolRight:{type:String},role:{type:String,default:"button",validator:e=>["button","link"].includes(e)},active:{type:Boolean,default:!1},passive:{type:Boolean,default:!1}},data:()=>({disabled:!1,tooltipInstance:null,hoverCount:0}),computed:{slotted(){var e,t;return this.title||null!=(null==(t=null==(e=this.$slots)?void 0:e.default)?void 0:t[0])},classnames(){return{[`tw-${this.role}`]:!0,[`-${this.theme}`]:!0,"-active":!0===this.active,"-has-title":this.slotted}}},emits:["click","action","update:active"],methods:{async doAction(e){if(!this.disabled){this.disabled=!0;try{await this.$nextTick(),this.$emit("click",e),this.$emit("action",e),this.$emit("update:active",!this.active),e.waitUntil&&await e.waitUntil}catch(t){}this.disabled=!1}},async doClick(e){this.passive||await this.doAction(e)},async doBeforeClick(e){this.passive&&(e.preventDefault(),await this.doAction(e))}}});I.render=function(e,t,c,u,f,p){const m=r("tw-symbol");return n(),o("button",i(e.$attrs,{disabled:e.disabled,role:e.role,tabindex:e.disabled?"0":void 0,onMousedown:t[1]||(t[1]=(...t)=>e.doBeforeClick&&e.doBeforeClick(...t)),onClick:t[2]||(t[2]=(...t)=>e.doClick&&e.doClick(...t)),onContextmenu:t[3]||(t[3]=(...t)=>e.doClick&&e.doClick(...t))}),[e.symbol||e.symbolLeft?(n(),o(m,{key:0,name:e.symbol||e.symbolLeft,class:"tw-button-symbol-left"},null,8,["name"])):a("",!0),l(" "+s(e.title)+" ",1),d(e.$slots,"default"),e.symbolRight?(n(),o(m,{key:1,name:e.symbolRight,class:"tw-button-symbol-right"},null,8,["name"])):a("",!0)],16,["disabled","role","tabindex"])};let N;const R={beforeMount:(e,{value:t=!0})=>{t&&e&&(N=t=>{const n=(o=e)?Array.from(o.querySelectorAll("\n    a[href],\n    area[href],\n    input:not([disabled]),\n    select:not([disabled]),\n    textarea:not([disabled]),\n    button:not([disabled]),\n    iframe,\n    object,\n    embed,\n    *[tabindex],\n    *[contenteditable]\n    ".trim())||[]):[];var o;let r=document.querySelector(":focus"),i=n.findIndex((e=>e.isSameNode(r))),a=n.length;"Tab"===t.key&&(t.preventDefault(),t.shiftKey?(--i,i<=0&&(i=a-1)):(++i,i>=a&&(i=0)),n[i].focus())},e.addEventListener("keydown",N))},unMount:e=>{null==e||e.removeEventListener("keydown",N)}};var W=t({name:"tw-link",components:{TwButton:I}});function H(e,t,n={ignoreInputElements:!0}){let o=o=>{console.log("key",e,null==n?void 0:n.ignoreInputElements,o.key);let r=o.target.tagName;if(console.log("key match",e),o.key===e){!0===(!0===(null==n?void 0:n.ignoreInputElements))&&["INPUT","TEXTAREA"].includes(r)||t(o),o.preventDefault(),o.stopPropagation()}};u((()=>{window.addEventListener("keydown",o)})),f((()=>{window.removeEventListener("keydown",o)}))}W.render=function(e,t,a,l,s,u){const f=r("tw-button");return n(),o(f,i({role:"link"},e.$attrs),{default:c((()=>[d(e.$slots,"default")])),_:3},16)};var z=t({components:{TwSymbol:P,TwLink:W},props:{modelValue:{type:[Boolean,Object],default:!1},title:{type:String,default:""},close:{type:Boolean,default:!0},role:{default:"dialog"},canCancel:{type:Boolean,default:!0},onCancel:{type:Function,default:()=>{}}},directives:{trapFocus:R},emits:["close","update:modelValue","didOpen","willClose","didClose","cancel"],setup(t,{emit:n}){console.log("setup");let o=p();const r={doCancel(){n("cancel"),r.doClose()},doClose(){n("close",!1),n("update:modelValue",!1)},doFocus(){var e,t;null==(t=null==(e=o.value)?void 0:e.querySelector(".focus"))||t.focus()},didAppear(){console.log("did appear"),r.doFocus(),n("didOpen")}};return H("Escape",r.doCancel,{ignoreInputElements:!1}),e(e({},r),{root:o})}});const _={class:"tw-modal-container"},F={key:0,class:"tw-modal-header header"},q={class:"tw-modal-title title"},U=y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x"},[y("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),K={class:"tw-modal-body body"},X={class:"tw-modal-footer footer"};z.render=function(e,t,i,u,f,p){const g=r("tw-link"),w=m("trap-focus");return n(),o(v,{name:"tw-modal-animation",onAfterLeave:t[2]||(t[2]=()=>{}),onAfterEnter:e.didAppear,appear:""},{default:c((()=>[e.modelValue?h((n(),o("div",{key:0,class:["tw-modal",{active:!!e.modelValue}],tabindex:-1,"aria-modal":"true",role:e.role,ref:"root"},[y("a",{onClick:t[1]||(t[1]=(...t)=>e.doCancel&&e.doCancel(...t)),class:"tw-modal-overlay overlay","aria-label":"Close"}),y("div",_,[e.title||e.close?(n(),o("header",F,[y("div",q,[d(e.$slots,"title",{},(()=>[l(s(e.title),1)]))]),e.close?(n(),o(g,{key:0,tooltip:"Close",onClick:e.doCancel,class:"tw-modal-close",symbol:"xmark"},{default:c((()=>[U])),_:1},8,["onClick"])):a("",!0)])):a("",!0),y("section",K,[d(e.$slots,"default")]),y("footer",X,[d(e.$slots,"footer")])])],10,["role"])),[[w]]):a("",!0)])),_:1},8,["onAfterEnter"])};var Y=t({props:{items:{type:Array,default:()=>[]},selected:{type:[String,Number],default:0}},emits:["selected"],setup:(t,{emit:n})=>e({},{doAction(e){console.log("item selected",e),n("selected",e)}})});const G={class:"tw-items",ref:"$container"},J=l("Empty");Y.render=function(e,t,r,i,c,u){return n(),o("div",G,[(n(!0),o(g,null,w(e.items,((t,r)=>(n(),o("div",{key:t.id,"data-id":t.id,"data-index":r,onMousedown:n=>e.doAction(t),onKeydown:b((n=>e.doAction(t)),["enter"]),class:["tw-items-item",{"-selected":e.selected===r||e.selected===t._id}]},[d(e.$slots,"default",{item:t,index:r},(()=>[l(s(r)+". "+s(t),1)]))],42,["data-id","data-index","onMousedown","onKeydown"])))),128)),e.items.length<=0?d(e.$slots,"empty",{key:0},(()=>[J])):a("",!0)],512)};const Q=t({name:"tw-list",props:{distance:{type:Number,default:50},scrollable:{type:Boolean,default:!0}},data:()=>({count:0,loading:!1}),mounted(){this.doMore()},methods:{doMore(){this.$emit("load",{start:0,end:this.distance})},onScroll(e){const t=e.target.scrollTop,n=e.target.clientHeight,o=.75*+n;n+t>=e.target.scrollHeight-o&&this.doMore(!1)}}});Q.render=function(e,t,r,i,a,l){return n(),o("div",{class:["tw-list",{"-scrollable":e.scrollable}],onScroll:t[1]||(t[1]=(...t)=>e.onScroll&&e.onScroll(...t))},[d(e.$slots,"default")],34)};var Z="top",ee="bottom",te="right",ne="left",oe=[Z,ee,te,ne],re=oe.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),ie=[].concat(oe,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),ae=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function le(e){return e?(e.nodeName||"").toLowerCase():null}function se(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function de(e){return e instanceof se(e).Element||e instanceof Element}function ce(e){return e instanceof se(e).HTMLElement||e instanceof HTMLElement}function ue(e){return"undefined"!=typeof ShadowRoot&&(e instanceof se(e).ShadowRoot||e instanceof ShadowRoot)}var fe={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},r=t.elements[e];ce(r)&&le(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],r=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});ce(o)&&le(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]};function pe(e){return e.split("-")[0]}function me(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function ve(e){var t=me(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function he(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ue(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ye(e){return se(e).getComputedStyle(e)}function ge(e){return["table","td","th"].indexOf(le(e))>=0}function we(e){return((de(e)?e.ownerDocument:e.document)||window.document).documentElement}function be(e){return"html"===le(e)?e:e.assignedSlot||e.parentNode||(ue(e)?e.host:null)||we(e)}function xe(e){return ce(e)&&"fixed"!==ye(e).position?e.offsetParent:null}function Oe(e){for(var t=se(e),n=xe(e);n&&ge(n)&&"static"===ye(n).position;)n=xe(n);return n&&("html"===le(n)||"body"===le(n)&&"static"===ye(n).position)?t:n||function(e){for(var t=navigator.userAgent.toLowerCase().includes("firefox"),n=be(e);ce(n)&&["html","body"].indexOf(le(n))<0;){var o=ye(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||["transform","perspective"].includes(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}function ke(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var je=Math.max,Ee=Math.min,Se=Math.round;function Ae(e,t,n){return je(e,Ee(t,n))}function Ce(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Te(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Le={top:"auto",right:"auto",bottom:"auto",left:"auto"};function De(e){var t,n=e.popper,o=e.popperRect,r=e.placement,i=e.offsets,a=e.position,l=e.gpuAcceleration,s=e.adaptive,d=e.roundOffsets,c=!0===d?function(e){var t=e.x,n=e.y,o=window.devicePixelRatio||1;return{x:Se(Se(t*o)/o)||0,y:Se(Se(n*o)/o)||0}}(i):"function"==typeof d?d(i):i,u=c.x,f=void 0===u?0:u,p=c.y,m=void 0===p?0:p,v=i.hasOwnProperty("x"),h=i.hasOwnProperty("y"),y=ne,g=Z,w=window;if(s){var b=Oe(n),x="clientHeight",O="clientWidth";b===se(n)&&"static"!==ye(b=we(n)).position&&(x="scrollHeight",O="scrollWidth"),b=b,r===Z&&(g=ee,m-=b[x]-o.height,m*=l?1:-1),r===ne&&(y=te,f-=b[O]-o.width,f*=l?1:-1)}var k,j=Object.assign({position:a},s&&Le);return l?Object.assign({},j,((k={})[g]=h?"0":"",k[y]=v?"0":"",k.transform=(w.devicePixelRatio||1)<2?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",k)):Object.assign({},j,((t={})[g]=h?m+"px":"",t[y]=v?f+"px":"",t.transform="",t))}var Me={passive:!0};var Be={left:"right",right:"left",bottom:"top",top:"bottom"};function Ve(e){return e.replace(/left|right|bottom|top/g,(function(e){return Be[e]}))}var $e={start:"end",end:"start"};function Pe(e){return e.replace(/start|end/g,(function(e){return $e[e]}))}function Ie(e){var t=se(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ne(e){return me(we(e)).left+Ie(e).scrollLeft}function Re(e){var t=ye(e),n=t.overflow,o=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function We(e){return["html","body","#document"].indexOf(le(e))>=0?e.ownerDocument.body:ce(e)&&Re(e)?e:We(be(e))}function He(e,t){var n;void 0===t&&(t=[]);var o=We(e),r=o===(null==(n=e.ownerDocument)?void 0:n.body),i=se(o),a=r?[i].concat(i.visualViewport||[],Re(o)?o:[]):o,l=t.concat(a);return r?l:l.concat(He(be(a)))}function ze(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _e(e,t){return"viewport"===t?ze(function(e){var t=se(e),n=we(e),o=t.visualViewport,r=n.clientWidth,i=n.clientHeight,a=0,l=0;return o&&(r=o.width,i=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=o.offsetLeft,l=o.offsetTop)),{width:r,height:i,x:a+Ne(e),y:l}}(e)):ce(t)?function(e){var t=me(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ze(function(e){var t,n=we(e),o=Ie(e),r=null==(t=e.ownerDocument)?void 0:t.body,i=je(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=je(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-o.scrollLeft+Ne(e),s=-o.scrollTop;return"rtl"===ye(r||n).direction&&(l+=je(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:a,x:l,y:s}}(we(e)))}function Fe(e,t,n){var o="clippingParents"===t?function(e){var t=He(be(e)),n=["absolute","fixed"].indexOf(ye(e).position)>=0&&ce(e)?Oe(e):e;return de(n)?t.filter((function(e){return de(e)&&he(e,n)&&"body"!==le(e)})):[]}(e):[].concat(t),r=[].concat(o,[n]),i=r[0],a=r.reduce((function(t,n){var o=_e(e,n);return t.top=je(o.top,t.top),t.right=Ee(o.right,t.right),t.bottom=Ee(o.bottom,t.bottom),t.left=je(o.left,t.left),t}),_e(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function qe(e){return e.split("-")[1]}function Ue(e){var t,n=e.reference,o=e.element,r=e.placement,i=r?pe(r):null,a=r?qe(r):null,l=n.x+n.width/2-o.width/2,s=n.y+n.height/2-o.height/2;switch(i){case Z:t={x:l,y:n.y-o.height};break;case ee:t={x:l,y:n.y+n.height};break;case te:t={x:n.x+n.width,y:s};break;case ne:t={x:n.x-o.width,y:s};break;default:t={x:n.x,y:n.y}}var d=i?ke(i):null;if(null!=d){var c="y"===d?"height":"width";switch(a){case"start":t[d]=t[d]-(n[c]/2-o[c]/2);break;case"end":t[d]=t[d]+(n[c]/2-o[c]/2)}}return t}function Ke(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=void 0===o?e.placement:o,i=n.boundary,a=void 0===i?"clippingParents":i,l=n.rootBoundary,s=void 0===l?"viewport":l,d=n.elementContext,c=void 0===d?"popper":d,u=n.altBoundary,f=void 0!==u&&u,p=n.padding,m=void 0===p?0:p,v=Ce("number"!=typeof m?m:Te(m,oe)),h="popper"===c?"reference":"popper",y=e.elements.reference,g=e.rects.popper,w=e.elements[f?h:c],b=Fe(de(w)?w:w.contextElement||we(e.elements.popper),a,s),x=me(y),O=Ue({reference:x,element:g,strategy:"absolute",placement:r}),k=ze(Object.assign({},g,O)),j="popper"===c?k:x,E={top:b.top-j.top+v.top,bottom:j.bottom-b.bottom+v.bottom,left:b.left-j.left+v.left,right:j.right-b.right+v.right},S=e.modifiersData.offset;if("popper"===c&&S){var A=S[r];Object.keys(E).forEach((function(e){var t=[te,ee].indexOf(e)>=0?1:-1,n=[Z,ee].indexOf(e)>=0?"y":"x";E[e]+=A[n]*t}))}return E}function Xe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ye(e){return[Z,te,ee,ne].some((function(t){return e[t]>=0}))}function Ge(e,t,n){void 0===n&&(n=!1);var o,r,i=we(t),a=me(e),l=ce(t),s={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(l||!l&&!n)&&(("body"!==le(t)||Re(i))&&(s=(o=t)!==se(o)&&ce(o)?{scrollLeft:(r=o).scrollLeft,scrollTop:r.scrollTop}:Ie(o)),ce(t)?((d=me(t)).x+=t.clientLeft,d.y+=t.clientTop):i&&(d.x=Ne(i))),{x:a.left+s.scrollLeft-d.x,y:a.top+s.scrollTop-d.y,width:a.width,height:a.height}}function Je(e){var t=new Map,n=new Set,o=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&r(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),o}var Qe={placement:"bottom",modifiers:[],strategy:"absolute"};function Ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function et(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,r=t.defaultOptions,i=void 0===r?Qe:r;return function(e,t,n){void 0===n&&(n=i);var r,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qe,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],d=!1,c={state:l,setOptions:function(n){u(),l.options=Object.assign({},i,l.options,n),l.scrollParents={reference:de(e)?He(e):e.contextElement?He(e.contextElement):[],popper:He(t)};var r,a,d=function(e){var t=Je(e);return ae.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((r=[].concat(o,l.options.modifiers),a=r.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(a).map((function(e){return a[e]}))));return l.orderedModifiers=d.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:l,name:t,instance:c,options:o}),a=function(){};s.push(i||a)}})),c.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,n=e.popper;if(Ze(t,n)){l.rects={reference:Ge(t,Oe(n),"fixed"===l.options.strategy),popper:ve(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<l.orderedModifiers.length;o++)if(!0!==l.reset){var r=l.orderedModifiers[o],i=r.fn,a=r.options,s=void 0===a?{}:a,u=r.name;"function"==typeof i&&(l=i({state:l,options:s,name:u,instance:c})||l)}else l.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(e){c.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){u(),d=!0}};if(!Ze(e,t))return c;function u(){s.forEach((function(e){return e()})),s=[]}return c.setOptions(n).then((function(e){!d&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var tt=et({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,r=o.scroll,i=void 0===r||r,a=o.resize,l=void 0===a||a,s=se(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach((function(e){e.addEventListener("scroll",n.update,Me)})),l&&s.addEventListener("resize",n.update,Me),function(){i&&d.forEach((function(e){e.removeEventListener("scroll",n.update,Me)})),l&&s.removeEventListener("resize",n.update,Me)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ue({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,a=void 0===i||i,l=n.roundOffsets,s=void 0===l||l,d={placement:pe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,De(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,De(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},fe,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.offset,i=void 0===r?[0,0]:r,a=ie.reduce((function(e,n){return e[n]=function(e,t,n){var o=pe(e),r=[ne,Z].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],l=i[1];return a=a||0,l=(l||0)*r,[ne,te].indexOf(o)>=0?{x:l,y:a}:{x:a,y:l}}(n,t.rects,i),e}),{}),l=a[t.placement],s=l.x,d=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=d),t.modifiersData[o]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,a=n.altAxis,l=void 0===a||a,s=n.fallbackPlacements,d=n.padding,c=n.boundary,u=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=void 0===p||p,v=n.allowedAutoPlacements,h=t.options.placement,y=pe(h),g=s||(y===h||!m?[Ve(h)]:function(e){if("auto"===pe(e))return[];var t=Ve(e);return[Pe(e),t,Pe(t)]}(h)),w=[h].concat(g).reduce((function(e,n){return e.concat("auto"===pe(n)?function(e,t){void 0===t&&(t={});var n=t,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,l=n.flipVariations,s=n.allowedAutoPlacements,d=void 0===s?ie:s,c=qe(o),u=c?l?re:re.filter((function(e){return qe(e)===c})):oe,f=u.filter((function(e){return d.indexOf(e)>=0}));0===f.length&&(f=u);var p=f.reduce((function(t,n){return t[n]=Ke(e,{placement:n,boundary:r,rootBoundary:i,padding:a})[pe(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:u,padding:d,flipVariations:m,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,x=t.rects.popper,O=new Map,k=!0,j=w[0],E=0;E<w.length;E++){var S=w[E],A=pe(S),C="start"===qe(S),T=[Z,ee].indexOf(A)>=0,L=T?"width":"height",D=Ke(t,{placement:S,boundary:c,rootBoundary:u,altBoundary:f,padding:d}),M=T?C?te:ne:C?ee:Z;b[L]>x[L]&&(M=Ve(M));var B=Ve(M),V=[];if(i&&V.push(D[A]<=0),l&&V.push(D[M]<=0,D[B]<=0),V.every((function(e){return e}))){j=S,k=!1;break}O.set(S,V)}if(k)for(var $=function(e){var t=w.find((function(t){var n=O.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},P=m?3:1;P>0;P--){if("break"===$(P))break}t.placement!==j&&(t.modifiersData[o]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,r=n.mainAxis,i=void 0===r||r,a=n.altAxis,l=void 0!==a&&a,s=n.boundary,d=n.rootBoundary,c=n.altBoundary,u=n.padding,f=n.tether,p=void 0===f||f,m=n.tetherOffset,v=void 0===m?0:m,h=Ke(t,{boundary:s,rootBoundary:d,padding:u,altBoundary:c}),y=pe(t.placement),g=qe(t.placement),w=!g,b=ke(y),x="x"===b?"y":"x",O=t.modifiersData.popperOffsets,k=t.rects.reference,j=t.rects.popper,E="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S={x:0,y:0};if(O){if(i||l){var A="y"===b?Z:ne,C="y"===b?ee:te,T="y"===b?"height":"width",L=O[b],D=O[b]+h[A],M=O[b]-h[C],B=p?-j[T]/2:0,V="start"===g?k[T]:j[T],$="start"===g?-j[T]:-k[T],P=t.elements.arrow,I=p&&P?ve(P):{width:0,height:0},N=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},R=N[A],W=N[C],H=Ae(0,k[T],I[T]),z=w?k[T]/2-B-H-R-E:V-H-R-E,_=w?-k[T]/2+B+H+W+E:$+H+W+E,F=t.elements.arrow&&Oe(t.elements.arrow),q=F?"y"===b?F.clientTop||0:F.clientLeft||0:0,U=t.modifiersData.offset?t.modifiersData.offset[t.placement][b]:0,K=O[b]+z-U-q,X=O[b]+_-U;if(i){var Y=Ae(p?Ee(D,K):D,L,p?je(M,X):M);O[b]=Y,S[b]=Y-L}if(l){var G="x"===b?Z:ne,J="x"===b?ee:te,Q=O[x],oe=Q+h[G],re=Q-h[J],ie=Ae(p?Ee(oe,K):oe,Q,p?je(re,X):re);O[x]=ie,S[x]=ie-Q}}t.modifiersData[o]=S}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,r=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,l=pe(n.placement),s=ke(l),d=[ne,te].indexOf(l)>=0?"height":"width";if(i&&a){var c=function(e,t){return Ce("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Te(e,oe))}(r.padding,n),u=ve(i),f="y"===s?Z:ne,p="y"===s?ee:te,m=n.rects.reference[d]+n.rects.reference[s]-a[s]-n.rects.popper[d],v=a[s]-n.rects.reference[s],h=Oe(i),y=h?"y"===s?h.clientHeight||0:h.clientWidth||0:0,g=m/2-v/2,w=c[f],b=y-u[d]-c[p],x=y/2-u[d]/2+g,O=Ae(w,x,b),k=s;n.modifiersData[o]=((t={})[k]=O,t.centerOffset=O-x,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&he(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,r=t.rects.popper,i=t.modifiersData.preventOverflow,a=Ke(t,{elementContext:"reference"}),l=Ke(t,{altBoundary:!0}),s=Xe(a,o),d=Xe(l,r,i),c=Ye(s),u=Ye(d);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}}]});const nt="undefined"!=typeof window,ot=()=>{};function rt(e){x()&&O(e)}const it=nt?window:void 0,at=nt?window.document:void 0;function lt(...e){let t,n,o,r;if("string"==typeof e[0]?([n,o,r]=e,t=it):[t,n,o,r]=e,!t)return;let i=ot;const a=k((()=>j(t)),(e=>{i(),e&&(e.addEventListener(n,o,r),i=()=>{e.removeEventListener(n,o,r),i=ot})}),{immediate:!0}),l=()=>{a(),i()};return rt(l),l}function st(e,t={}){const{document:n=at}=t;n&&lt(n,"keydown",(t=>{!(()=>{const{activeElement:e,body:t}=document;if(!e)return!1;if(e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")})()&&(({keyCode:e,metaKey:t,ctrlKey:n,altKey:o})=>!(t||n||o)&&(e>=48&&e<=57||e>=96&&e<=105||e>=65&&e<=90))(t)&&e(t)}),{passive:!0})}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function dt(e,t,n={}){const{window:o=it}=n,r=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(n,["window"]);let i;const a=o&&"ResizeObserver"in o,l=()=>{i&&(i.disconnect(),i=void 0)},s=k((()=>function(e){var t,n;const o=j(e);return null!==(n=null===(t=o)||void 0===t?void 0:t.$el)&&void 0!==n?n:o}(e)),(e=>{l(),a&&o&&e&&(i=new o.ResizeObserver(t),i.observe(e,r))}),{immediate:!0,flush:"post"}),d=()=>{l(),s()};return rt(d),{isSupported:a,stop:d}}var ct,ut;(ut=ct||(ct={})).UP="UP",ut.RIGHT="RIGHT",ut.DOWN="DOWN",ut.LEFT="LEFT";let ft=1;function pt(){return"id-"+ft++}class mt{constructor(e){this.box=e}getBoundingClientRect(){return this.box}get clientWidth(){return Math.abs(this.box.right-this.box.left)}get clientHeight(){return Math.abs(this.box.bottom-this.box.top)}}var vt=t({props:{modelValue:{type:Boolean,default:!1},target:{type:[Element,Boolean,Number],default:!1},transition:{type:String,default:"tw-popover-fade"},arrow:{type:Boolean,default:!0},placement:{default:"top"},theme:{default:"popover"},text:{default:""},offset:{default:()=>[0,8]}},emits:["update:modelValue"],setup(e,{emit:t}){let n,o,r=p(),i=p(pt());function a(){null!=n&&(n.destroy(),n=null)}return lt(window,"mousedown",(o=>{var r,i;!0!==e.modelValue||(null==(r=null==e?void 0:e.target)?void 0:r.contains(o.target))||(null==(i=null==n?void 0:n.value)?void 0:i.contains(o.target))||t("update:modelValue",!1)})),f(a),k([()=>e.modelValue,()=>e.target],(()=>{e.modelValue&&e.target?(a(),E(),async function(){let t=e.target;if(null!=t&&(a(),await E(),o=r.value,o)){let r;r=t instanceof Node?t:new mt(t),n=tt(r,o,{placement:e.placement,modifiers:[{name:"offset",options:{offset:e.offset}},{name:"preventOverflow",options:{boundariesElement:"window",padding:8}}]})}}()):a()})),{id:i,popover:r}}});vt.render=function(e,t){return n(),o(S,{to:"body"},[h(y("div",{"data-transition":e.transition,class:["tw-popover",`-${e.theme}`],ref:"popover",id:e.id,"aria-hidden":!(e.modelValue&&e.target),draggable:"false"},[h(y("div",{id:"arrow",class:["tw-popover-arrow",`-${e.theme}-arrow`],"data-popper-arrow":""},null,2),[[A,e.arrow]]),y("div",{class:["tw-popover-inner",`-${e.theme}-inner`]},[l(s(e.text)+" ",1),d(e.$slots,"default")],2)],10,["data-transition","id","aria-hidden"]),[[A,e.modelValue&&e.target]])])};const ht=t({components:{twItems:Y,twPopover:vt},props:{uid:{type:String,default:pt()},items:{type:Array,default:[]},placeholder:{type:String,default:""},minSize:{type:[Number,String],default:32},filter:{type:String}},computed:{active(){return this.items.length&&this.focus}},emits:["filter","deleteLast","add","update:filter"],setup(t,{emit:n}){let o=p(),r=p(),i=p(""),a=C({selected:0,itemCandidate:null,focus:!1}),l={resizeInput(){const e=r.value;let n=e.value.trim();e.style.width="1px",e.style.width=Math.max(+t.minSize,n?e.scrollWidth:0)+"px"},doInput(e){l.resizeInput()},doClear(){i.value="",n("filter","")},doMove(e){a.selected=Math.max(0,Math.min(t.items.length-1,a.selected+e))},doAddItem(e){console.log("add item",e.title,i.value),n("add",e),l.doClear()},doAddSelection(){const e=t.items[this.selected];l.doAddItem(e)},doDeleteLast(e){i.value||(e.preventDefault(),n("deleteLast"))}};return i.value=t.filter,k(i,(()=>{n("filter",i.value)})),e(e(e({},l),T(a)),{filterText:i,target:o,input:r})}}),yt={class:"tw-completion-after"};ht.render=function(e,t,i,a,u,f){const p=r("tw-items"),m=r("tw-popover");return n(),o("div",{class:["tw-completion",{"-focus":e.focus}],ref:"target",onClick:t[11]||(t[11]=t=>e.input.focus())},[d(e.$slots,"before"),h(y("input",{xtype:"text",ref:"input",id:e.uid,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filterText=t),autocomplete:"off",placeholder:e.placeholder,onFocus:t[2]||(t[2]=t=>e.focus=!0),onBlur:t[3]||(t[3]=t=>e.focus=!1),onInput:t[4]||(t[4]=(...t)=>e.doInput&&e.doInput(...t)),onKeydown:[t[5]||(t[5]=b(L((t=>e.doMove(1)),["prevent"]),["down"])),t[6]||(t[6]=b(L((t=>e.doMove(-1)),["prevent"]),["up"])),t[7]||(t[7]=b(((...t)=>e.doAddSelection&&e.doAddSelection(...t)),["enter"])),t[8]||(t[8]=b(((...t)=>e.doClear&&e.doClear(...t)),["esc"])),t[9]||(t[9]=b(((...t)=>e.doDeleteLast&&e.doDeleteLast(...t)),["backspace"]))],class:"tw-completion-input"},null,40,["id","placeholder"]),[[D,e.filterText]]),y("div",yt,[d(e.$slots,"after",{class:"completion-after"})]),y(m,{modelValue:e.active,"onUpdate:modelValue":t[10]||(t[10]=t=>e.active=t),target:e.target,placement:"bottom-start",arrow:!1,theme:"dropdown",offset:[0,2]},{default:c((()=>[y(p,{items:e.items,selected:e.selected,onSelected:e.doAddItem},{default:c((({item:t})=>[d(e.$slots,"item",{item:t},(()=>[l(s(t),1)]))])),_:3},8,["items","selected","onSelected"]),d(e.$slots,"default")])),_:3},8,["modelValue","target"])],2)};var gt=t({components:{twCompletion:ht},props:{modelValue:{type:Array},allTags:{type:Object}},emits:["update:modelValue","create"],setup(t,{emit:n}){let o=p(""),r=M((()=>(console.log("calc tags"),(t.modelValue||[]).map((e=>t.allTags[e]))))),i=p(Object.values(t.allTags)),a={setTags(e=[]){n("update:modelValue",[...e])},doRemoveTag(e){a.setTags(function(e,t){if(e&&Array.isArray(e)){let n;for(;-1!==(n=e.indexOf(t));)e.splice(n,1);return e}return[]}(t.modelValue,e))},async handleSelection(e){if(console.log("add item",e),e.action){let t=e.value.toString().trim();t&&(console.log("add item title",t),n("create",t))}else e.id?a.setTags([...t.modelValue,e.id]):console.log("unknown item",e)},handleFilter(e){let n=e.trim();console.log("calc candidates",n);let o=n.toLowerCase(),r=!1,a=t.modelValue||[],l=Object.values(t.allTags).filter((e=>{if(!a.includes(e.id)){if(n){const t=e.title.toString().toLowerCase();return e.title===o&&(r=!0),t.indexOf(o)>=0}return!0}return!1}));n&&!r&&l.push({action:"create",value:n}),i.value=l},handleDeleteLast(){console.log("delete last");let e=t.modelValue;e.pop()&&a.setTags(e)}};return e(e({},a),{candidates:i,tags:r,filter:o})}});const wt=y("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x"},[y("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),bt={key:0,class:"tw-tag-item-create"},xt=l(" Create new tag "),Ot={key:1,class:"tw-tag-item"};gt.render=function(e,t,i,a,d,u){const f=r("tw-completion");return n(),o(f,{items:e.candidates,onAdd:e.handleSelection,onDeleteLast:e.handleDeleteLast,onFilter:e.handleFilter,class:"tw-tag-input",placeholder:"Add Tag","min-size":"120"},{before:c((()=>[(n(!0),o(g,null,w(e.tags,(t=>(n(),o("span",{class:"tw-tag-field",key:t.id},[l(s(t.title)+" ",1),y("span",{onClick:L((n=>e.doRemoveTag(t.id)),["prevent"]),class:"tw-tag-remove"},[wt],8,["onClick"])])))),128))])),item:c((({item:e})=>[e.action?(n(),o("span",bt,[xt,y("b",null,s(e.value),1)])):(n(),o("span",Ot,s(e.title),1))])),_:1},8,["items","onAdd","onDeleteLast","onFilter"])};var kt=t({props:{resize:{type:Boolean,default:!1},typing:{type:Boolean,default:!1},minSize:{type:[Number,String],default:32},placeholder:{type:String,default:""}},setup(e){let t=p(),n=0;if(e.typing&&st((()=>{var e;(null==(e=null==t?void 0:t.value)?void 0:e.active)||t.value.focus()})),e.resize){let o=()=>{const o=t.value;let r=o.value;o.style.width="1px",o.style.width=""===r&&n?Math.max(+e.minSize,n)+"px":Math.max(+e.minSize,r?o.scrollWidth:0)+"px"};u((()=>{var r;let i=t.value;i.addEventListener("input",o),console.log(e.placeholder),""===i.value&&(null==(r=e.placeholder)?void 0:r.length)>0&&(i.style.width="1px",i.value=e.placeholder,n=i.scrollWidth,console.log(n),i.value=""),o()})),f((()=>{t.value.removeEventListener("input",o)}))}return{input:t}}});kt.render=function(e,t,r,a,l,s){return n(),o("input",i({type:"text"},e.$attrs,{placeholder:e.placeholder,ref:"input"}),null,16,["placeholder"])};var jt={components:{twPopover:vt},props:{title:{type:String,default:"Hello"}},setup(e){let t=p(!1);return{target:p(),active:t}}};const Et=l("Define #content");jt.render=function(e,t,i,a,l,s){const u=r("tw-popover");return n(),o(g,null,[y("div",{ref:"target",style:{display:"inline-block"},onClick:t[1]||(t[1]=e=>a.active=!a.active)},[d(e.$slots,"default",{class:"tw-dropdown"})],512),y(u,{arrow:"",modelValue:a.active,"onUpdate:modelValue":t[2]||(t[2]=e=>a.active=e),target:a.target,theme:"dropdown",transition:"tw-tooltip-transition"},{default:c((()=>[y("div",null,[d(e.$slots,"content",{},(()=>[Et]))])])),_:3},8,["modelValue","target"])],64)};const St={props:{value:{default:null}},computed:{obj(){return function(e){try{return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}catch(t){console.error("cloneObject error:",t)}}(this.value)},entries(){if(this.isObject){let e=Object.entries(this.obj);return e.sort(),e}return[]},isArray(){return Array.isArray(this.obj)},isObject(){return!Array.isArray(this.obj)&&"object"==typeof this.obj},isNull(){return null==this.value},isTrue(){return!0===this.value},isFalse(){return!1===this.value},isDate(){return this.obj instanceof Date},isNumber(){return"number"==typeof this.value},isString(){return"string"==typeof this.value}}},At={class:"tw-object"},Ct={key:0,class:"-null"},Tt={key:1,class:"-number"},Lt={key:2,class:"-string"},Dt={key:3,class:"-true"},Mt={key:4,class:"-false"},Bt={key:5,class:"-date"},Vt={key:6},$t=y("div",null,"[",-1),Pt={key:0,class:"-comma"},It=y("div",null,"]",-1),Nt={key:7},Rt={class:"-title"},Wt={key:8};St.render=function(e,t,i,l,u,f){const p=r("_self");return n(),o("div",At,[f.isNull?(n(),o("div",Ct,"null")):f.isNumber?(n(),o("div",Tt,s(i.value),1)):f.isString?(n(),o("div",Lt,'"'+s(i.value)+'"',1)):f.isTrue?(n(),o("div",Dt,"true")):f.isFalse?(n(),o("div",Mt,"false")):f.isDate?(n(),o("div",Bt,s(e.date),1)):f.isArray?(n(),o("div",Vt,[$t,(n(!0),o(g,null,w(f.obj,((e,t)=>(n(),o(p,{value:e,key:t},{default:c((()=>[t!==f.obj.length-1?(n(),o("div",Pt,s(", "))):a("",!0)])),_:2},1032,["value"])))),128)),It])):f.isObject?(n(),o("table",Nt,[(n(!0),o(g,null,w(f.entries,(([e,t])=>(n(),o("tr",{key:e},[y("th",null,[y("div",Rt,s(e),1)]),y("td",null,[y(p,{value:t},null,8,["value"])])])))),128))])):(n(),o("div",Wt,s(i.value.toString()),1)),d(e.$slots,"default")])};var Ht=t({props:{name:String}});const zt={key:0,preserveAspectRatio:"xMinYMin"},_t={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"};Ht.render=function(e,t,r,i,a,l){return e.name?(n(),o("svg",zt,[y("use",{"xlink:href":`/sprites.svg#${e.name}`},null,8,["xlink:href"])])):(n(),o("svg",_t,[d(e.$slots,"default")]))};const Ft={props:{label:{type:String,default:null}},data:()=>({id:pt()})},qt={class:"form-body"};Ft.render=function(e,t,r,l,c,u){return n(),o("div",i({class:"form-group"},e.$attrs),[r.label?(n(),o("label",{key:0,for:c.id,class:"form-label"},s(r.label),9,["for"])):a("",!0),y("div",qt,[d(e.$slots,"default",c.id)])],16)};var Ut={props:{items:{type:Array},target:{type:Element}},data:()=>({blocked:!1}),methods:{async doAction(e){e&&e.action&&e.action(e)}}};const Kt={class:"tw-menu"},Xt={key:1,class:"-separator"};Ut.render=function(e,t,i,a,l,d){const u=r("tw-popover");return n(),o(u,{target:i.target},{default:c((()=>[y("div",Kt,[(n(!0),o(g,null,w(i.items,(e=>(n(),o(g,null,[e.title?(n(),o("a",{key:0,class:"-item",onClick:L((t=>d.doAction(e)),["prevent","stop"]),onContextmenu:L((t=>d.doAction(e)),["prevent","stop"])},s(e.title),41,["onClick","onContextmenu"])):(n(),o("hr",Xt))],64)))),256))])])),_:1},8,["target"])};let Yt=C([]);var Gt=t({setup:e=>({notifications:Yt})});const Jt={class:"tw-notification-container"},Qt={class:"tw-notification-title"},Zt={class:"tw-notification-message"};Gt.render=function(e,t,r,i,a,l){return n(),o("div",Jt,[y(B,{name:"tw-notification",tag:"div"},{default:c((()=>[(n(!0),o(g,null,w(e.notifications,(e=>(n(),o("div",{class:"tw-notification",key:e.id},[y("div",Qt,s(e.title),1),y("div",Zt,s(e.message),1)])))),128))])),_:1})])};let en=document.createElement("div");function tn(e){e.id||(e.id=pt()),e.timeout||(e.timeout=5e3),e.active||(e.active=!0),e.timeout&&setTimeout((()=>{e.active=!1,function(e){let t=Yt.findIndex((t=>t.id===e));t>=0&&(Yt.splice(t,1),console.log("remove index",t,e))}(e.id)}),e.timeout),console.log("add id",e.id,en),Yt.unshift(e)}function nn(e={title:"title is missing!"}){return t=>{tn(Object.assign({},e,t))}}document.body.appendChild(en),V(Gt).mount(en);var on=!1,rn=t({props:{placement:{default:"top"}},components:{twPopover:vt},setup(e){if(on)return void console.error("tw-tooltip-trigger can only be activated once");on=!0;let t=p(!1),n=p(e.placement),o=p(),r=p(""),i=0;return lt(window,"touchdown",(e=>{t.value=!1}),true),lt(window,"mouseover",(a=>{clearTimeout(i);let l=a.target;i=setTimeout((()=>{for(var i;null!=l&&"BODY"!==(null==l?void 0:l.tagName);){let a=l.getAttribute("tooltip");if(a&&(null==a?void 0:a.length)>0)return o.value=l,r.value=(null==(i=null==a?void 0:a.toString())?void 0:i.trim())||"",n.value=l.getAttribute("tooltip-placement")||e.placement,void(t.value=!0);l=l.parentElement}t.value=!1,o.value=null}),50)}),true),{placement:n,target:o,text:r,active:t}}});rn.render=function(e,t,i,a,d,u){const f=r("tw-popover");return n(),o(f,{modelValue:e.active,"onUpdate:modelValue":t[1]||(t[1]=t=>e.active=t),target:e.target,arrow:"",theme:"tooltip",placement:e.placement},{default:c((()=>[l(s(e.text),1)])),_:1},8,["modelValue","target","placement"])};let an=document.createElement("div");function ln(){return{}}function sn(e,t){return{toggleMenu(){console.log("toggle menu")}}}document.body.appendChild(an),V(rn).mount(an);const dn=Boolean(window&&"ontouchstart"in window||((null==navigator?void 0:navigator.maxTouchPoints)||0)>1||(null==navigator?void 0:navigator.msPointerEnabled)&&(null==window?void 0:window.MSGesture)||(null==window?void 0:window.DocumentTouch)&&document instanceof DocumentTouch);function cn(e){dn||k(e,(()=>{var t;return null==(t=null==e?void 0:e.value)?void 0:t.focus()}))}function un(e){u((()=>{window.addEventListener("resize",e)})),f((()=>{window.removeEventListener("resize",e)}))}function fn(e,t){let{minSize:n=32,placeholder:o=""}=t,r=()=>{const t=e.value;let r=t.value;t.style.width="1px",""===r?(t.value=o,t.style.width=Math.max(+n,t.scrollWidth)+"px"):t.style.width=Math.max(+n,r?t.scrollWidth:0)+"px"};un(r),lt(e,"input",r),u((()=>{r()}))}function pn(e,t,n,o=!1){return u((()=>{!0===o&&n(null),e.on(t,n)})),f((()=>{e.off(t,n)})),()=>{e.off(t,n)}}function mn(e){const t=()=>{let t=e.value;t.style.height="1px",t.style.height=t.scrollHeight+2+"px"};$((()=>{e.value.setAttribute("style","height:"+(e.value.scrollHeight+2)+"px;overflow-y:hidden;resize:none;")})),lt(e,"input",t),dt(e,t)}export{tn as emitNotification,I as twButton,ht as twCompletion,jt as twDropdown,Ht as twIcon,kt as twInput,Y as twItems,Ft as twLabel,Q as twList,Ut as twMenu,z as twModal,St as twObject,vt as twPopover,gt as twTagInput,cn as useFocusDesktopInput,H as useKey,sn as useMenu,nn as useNotification,pn as useOn,fn as useResizeInput,mn as useTextareaResize,ln as useTooltip,un as useWindowResize};
